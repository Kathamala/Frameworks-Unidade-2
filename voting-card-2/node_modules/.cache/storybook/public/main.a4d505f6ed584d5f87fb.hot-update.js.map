{"version":3,"file":"main.a4d505f6ed584d5f87fb.hot-update.js","sources":["webpack:///./src/components/voting-list.vue","webpack:///./src/components/votes.js","webpack:///./src/components/voting-list.vue?a95d","webpack:///./src/components/voting-list.vue?99d3","webpack:///./src/components/voting-list.vue?c73c","webpack:///./src/stories/voting-list.stories.js"],"sourcesContent":["<template>\n  <div v-if=\"mode === 'view'\">\n    <h2>Vota√ß√µes</h2>\n    <button @click=\"addVote\">Nova vota√ß√£o</button>\n    <p v-for=\"(vote, i) in votes\" :key=\"i\">\n      <b>P: </b> {{ vote.title }}\n      <button className=\"m5\" @click=\"editVote(i)\">Edita</button>\n      <button className=\"m5\" @click=\"removeVote(i)\">Remove</button>\n      <button className=\"m5\" @click=\"openVote(i)\">Abrir vota√ß√£o</button>\n      <br />\n      <b>R: </b>\n      <span v-for=\"(o, i) in vote.options\" :key=\"i\">\n        {{ o.text }}\n        <span v-if=\"i < vote.options.length - 1\">/ </span>\n      </span>\n    </p>\n  </div>\n  <div v-else-if=\"mode === 'voteCard'\">\n    <Card\n      :title=\"votes[current].title\"\n      :state=\"'open'\"\n      :votes=\"votes[current].options\"\n    />\n  </div>  \n  <div v-else>\n    <VoteForm\n      :vote=\"votes[current]\"\n      @update=\"updateChanges\"\n      @cancel=\"cancelChanges\"\n    />\n  </div>\n</template>\n\n<script>\nimport VoteForm from './voting-form.vue'\nimport Card from './voting-card.vue'\nimport { ref } from 'vue'\n\nimport {\n  votes,\n  size,\n  createVote,\n  updateVote,\n  deleteVote\n} from './votes'\n\nexport default {\n  components: { VoteForm, Card },\n  setup() {\n    const mode = ref('view')\n    const current = ref(0)\n\n    const openVote = (index) => {\n      mode.value = 'voteCard'\n      current.value = index\n    }\n\n    const addVote = () => {\n      createVote()\n      mode.value = 'add'\n      current.value = size.value - 1\n    }\n\n    const updateChanges = (vote) => {\n      updateVote(vote, current.value)\n      mode.value = 'view'\n    }\n\n    const editVote = (index) => {\n      current.value = index\n      mode.value = 'edit'\n    }\n\n    const removeVote = (index) => {\n      deleteVote(index)\n    }\n\n    const cancelChanges = () => {\n      if (mode.value === 'add') {\n        deleteVote(size.value - 1)\n      }\n      mode.value = 'view'\n    }\n\n    return {\n      mode,\n      votes,\n      current,\n      addVote,\n      openVote,\n      updateChanges,\n      editVote,\n      removeVote,\n      cancelChanges\n    }\n  }\n}\n</script>\n","import { reactive, readonly, computed } from 'vue'\n\nconst vtList = reactive([])\n\nexport const votes = readonly(vtList)\nexport const size = computed(() => vtList.length)\n\nexport function createVote() {\n  vtList.push(\n    { \n      title: '', \n      options: [ {\n        text: '',\n        count: 0\n      },{\n        text: '',\n        count: 0\n      },\n    ] \n  })\n}\n\nexport function updateVote(vote, index) {\n  vtList[index] = vote\n}\n\nexport function deleteVote(index) {\n  vtList.splice(index, 1)\n}\n","import { render } from \"./voting-list.vue?vue&type=template&id=6743b9a4\"\nimport script from \"./voting-list.vue?vue&type=script&lang=js\"\nexport * from \"./voting-list.vue?vue&type=script&lang=js\"\nscript.render = render\n/* hot reload */\nif (module.hot) {\n  script.__hmrId = \"6743b9a4\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('6743b9a4', script)) {\n    api.reload('6743b9a4', script)\n  }\n  \n  module.hot.accept(\"./voting-list.vue?vue&type=template&id=6743b9a4\", () => {\n    api.rerender('6743b9a4', render)\n  })\n\n}\n\nscript.__file = \"src/components/voting-list.vue\"\n\nconst __vuedocgen_export_0 = script;\nexport default __vuedocgen_export_0;\n__vuedocgen_export_0.__docgenInfo = {\"exportName\":\"default\",\"displayName\":\"voting-list\",\"description\":\"\",\"tags\":{}}","export { default } from \"-!../../node_modules/vue-docgen-loader/lib/index.js??ref--12!../../node_modules/babel-loader/lib/index.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--3!./voting-list.vue?vue&type=script&lang=js\"; export * from \"-!../../node_modules/vue-docgen-loader/lib/index.js??ref--12!../../node_modules/babel-loader/lib/index.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--3!./voting-list.vue?vue&type=script&lang=js\"","export * from \"-!../../node_modules/vue-docgen-loader/lib/index.js??ref--12!../../node_modules/vue-loader/dist/templateLoader.js??ref--5!../../node_modules/vue-loader/dist/index.js??ref--3!./voting-list.vue?vue&type=template&id=6743b9a4\"","\n    /* eslint-disable */\n    // @ts-nocheck\n    // @ts-ignore\n    var __STORY__ = \"import List  from '../components/voting-list.vue';\\n\\n//üëá This default export determines where your story goes in the story list\\nexport default {\\n  title: 'VotingList',\\n  component: List\\n};\\n\\n//üëá We create a ‚Äútemplate‚Äù of how args map to rendering\\n\\nconst Template = (args, {argTypes}) => ({\\n  components: { List },\\n  setup() {\\n    return { args };\\n  },\\n  template: '<List v-bind=\\\"args\\\"/>',\\n});\\n\\nexport const FirstStory = Template.bind({});\\nFirstStory.storyName = \\\"VotingList\\\";\\nFirstStory.args = {\\n};\";\n    // @ts-ignore\n    var __LOCATIONS_MAP__ = {\"FirstStory\":{\"startLoc\":{\"col\":17,\"line\":11},\"endLoc\":{\"col\":2,\"line\":17},\"startBody\":{\"col\":17,\"line\":11},\"endBody\":{\"col\":2,\"line\":17}}};\n    \nimport List  from '../components/voting-list.vue';\n\n//üëá This default export determines where your story goes in the story list\nexport default {\n  title: 'VotingList',\n  component: List\n};\n\n//üëá We create a ‚Äútemplate‚Äù of how args map to rendering\n\nconst Template = (args, {argTypes}) => ({\n  components: { List },\n  setup() {\n    return { args };\n  },\n  template: '<List v-bind=\"args\"/>',\n});\n\nexport const FirstStory = Template.bind({});\nFirstStory.storyName = \"VotingList\";\nFirstStory.args = {\n};\n\n\nFirstStory.parameters = { storySource: { source: \"(args, {argTypes}) => ({\\n  components: { List },\\n  setup() {\\n    return { args };\\n  },\\n  template: '<List v-bind=\\\"args\\\"/>',\\n})\" }, ...FirstStory.parameters };"],"mappings":";;;;;;;;;;;AAkCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AAjDA;;;;;;;;;;;;;;;;;;AA5CA;AAGA;;;;AAIA;AACA;;;;;;;;;AATA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;;;;;;;AAIA;AAAA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AAEA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AALA;AAWA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACCA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AALA;AAAA;AACA;AAOA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}