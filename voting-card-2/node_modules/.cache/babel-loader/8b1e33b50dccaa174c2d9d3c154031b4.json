{"remainingRequest":"/home/thiago/Documentos/voting-card-2/node_modules/babel-loader/lib/index.js!/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/thiago/Documentos/voting-card-2/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/thiago/Documentos/voting-card-2/src/components/voting-list.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/thiago/Documentos/voting-card-2/src/components/voting-list.vue","mtime":1629135828898},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZvdGVGb3JtIGZyb20gJy4vdm90aW5nLWZvcm0udnVlJzsKaW1wb3J0IENhcmQgZnJvbSAnLi92b3RpbmctY2FyZC52dWUnOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB2b3Rlcywgc2l6ZSwgY3JlYXRlVm90ZSwgdXBkYXRlVm90ZSwgZGVsZXRlVm90ZSB9IGZyb20gJy4vdm90ZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgVm90ZUZvcm06IFZvdGVGb3JtLAogICAgQ2FyZDogQ2FyZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIG1vZGUgPSByZWYoJ3ZpZXcnKTsKICAgIHZhciBjdXJyZW50ID0gcmVmKDApOwoKICAgIHZhciBvcGVuVm90ZSA9IGZ1bmN0aW9uIG9wZW5Wb3RlKGluZGV4KSB7CiAgICAgIG1vZGUudmFsdWUgPSAndm90ZUNhcmQnOwogICAgICBjdXJyZW50LnZhbHVlID0gaW5kZXg7CiAgICB9OwoKICAgIHZhciBhZGRWb3RlID0gZnVuY3Rpb24gYWRkVm90ZSgpIHsKICAgICAgY3JlYXRlVm90ZSgpOwogICAgICBtb2RlLnZhbHVlID0gJ2FkZCc7CiAgICAgIGN1cnJlbnQudmFsdWUgPSBzaXplLnZhbHVlIC0gMTsKICAgIH07CgogICAgdmFyIHVwZGF0ZUNoYW5nZXMgPSBmdW5jdGlvbiB1cGRhdGVDaGFuZ2VzKHZvdGUpIHsKICAgICAgdXBkYXRlVm90ZSh2b3RlLCBjdXJyZW50LnZhbHVlKTsKICAgICAgbW9kZS52YWx1ZSA9ICd2aWV3JzsKICAgIH07CgogICAgdmFyIGVkaXRWb3RlID0gZnVuY3Rpb24gZWRpdFZvdGUoaW5kZXgpIHsKICAgICAgY3VycmVudC52YWx1ZSA9IGluZGV4OwogICAgICBtb2RlLnZhbHVlID0gJ2VkaXQnOwogICAgfTsKCiAgICB2YXIgcmVtb3ZlVm90ZSA9IGZ1bmN0aW9uIHJlbW92ZVZvdGUoaW5kZXgpIHsKICAgICAgZGVsZXRlVm90ZShpbmRleCk7CiAgICB9OwoKICAgIHZhciBjYW5jZWxDaGFuZ2VzID0gZnVuY3Rpb24gY2FuY2VsQ2hhbmdlcygpIHsKICAgICAgaWYgKG1vZGUudmFsdWUgPT09ICdhZGQnKSB7CiAgICAgICAgZGVsZXRlVm90ZShzaXplLnZhbHVlIC0gMSk7CiAgICAgIH0KCiAgICAgIG1vZGUudmFsdWUgPSAndmlldyc7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIG1vZGU6IG1vZGUsCiAgICAgIHZvdGVzOiB2b3RlcywKICAgICAgY3VycmVudDogY3VycmVudCwKICAgICAgYWRkVm90ZTogYWRkVm90ZSwKICAgICAgb3BlblZvdGU6IG9wZW5Wb3RlLAogICAgICB1cGRhdGVDaGFuZ2VzOiB1cGRhdGVDaGFuZ2VzLAogICAgICBlZGl0Vm90ZTogZWRpdFZvdGUsCiAgICAgIHJlbW92ZVZvdGU6IHJlbW92ZVZvdGUsCiAgICAgIGNhbmNlbENoYW5nZXM6IGNhbmNlbENoYW5nZXMKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/home/thiago/Documentos/voting-card-2/src/components/voting-list.vue"],"names":[],"mappings":"AAiCA,OAAO,QAAP,MAAqB,mBAArB;AACA,OAAO,IAAP,MAAiB,mBAAjB;AACA,SAAS,GAAT,QAAoB,KAApB;AAEA,SACE,KADF,EAEE,IAFF,EAGE,UAHF,EAIE,UAJF,EAKE,UALF,QAMO,SANP;AAQA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,IAAG,EAAH;AAAZ,GADC;AAEb,EAAA,KAFa,mBAEL;AACN,QAAM,IAAG,GAAI,GAAG,CAAC,MAAD,CAAhB;AACA,QAAM,OAAM,GAAI,GAAG,CAAC,CAAD,CAAnB;;AAEA,QAAM,QAAO,GAAI,SAAX,QAAW,CAAC,KAAD,EAAW;AAC1B,MAAA,IAAI,CAAC,KAAL,GAAa,UAAb;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;AACF,KAHA;;AAKA,QAAM,OAAM,GAAI,SAAV,OAAU,GAAM;AACpB,MAAA,UAAU;AACV,MAAA,IAAI,CAAC,KAAL,GAAa,KAAb;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,IAAI,CAAC,KAAL,GAAa,CAA7B;AACF,KAJA;;AAMA,QAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,IAAD,EAAU;AAC9B,MAAA,UAAU,CAAC,IAAD,EAAO,OAAO,CAAC,KAAf,CAAV;AACA,MAAA,IAAI,CAAC,KAAL,GAAa,MAAb;AACF,KAHA;;AAKA,QAAM,QAAO,GAAI,SAAX,QAAW,CAAC,KAAD,EAAW;AAC1B,MAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;AACA,MAAA,IAAI,CAAC,KAAL,GAAa,MAAb;AACF,KAHA;;AAKA,QAAM,UAAS,GAAI,SAAb,UAAa,CAAC,KAAD,EAAW;AAC5B,MAAA,UAAU,CAAC,KAAD,CAAV;AACF,KAFA;;AAIA,QAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AAC1B,UAAI,IAAI,CAAC,KAAL,KAAe,KAAnB,EAA0B;AACxB,QAAA,UAAU,CAAC,IAAI,CAAC,KAAL,GAAa,CAAd,CAAV;AACF;;AACA,MAAA,IAAI,CAAC,KAAL,GAAa,MAAb;AACF,KALA;;AAOA,WAAO;AACL,MAAA,IAAI,EAAJ,IADK;AAEL,MAAA,KAAK,EAAL,KAFK;AAGL,MAAA,OAAO,EAAP,OAHK;AAIL,MAAA,OAAO,EAAP,OAJK;AAKL,MAAA,QAAQ,EAAR,QALK;AAML,MAAA,aAAa,EAAb,aANK;AAOL,MAAA,QAAQ,EAAR,QAPK;AAQL,MAAA,UAAU,EAAV,UARK;AASL,MAAA,aAAY,EAAZ;AATK,KAAP;AAWF;AAjDa,CAAf","sourcesContent":["<template>\n  <div v-if=\"mode === 'view'\">\n    <h2>Votações</h2>\n    <button @click=\"addVote\">Nova votação</button>\n    <p v-for=\"(vote, i) in votes\" :key=\"i\">\n      <b>P: </b> {{ vote.title }}\n      <button className=\"m5\" @click=\"editVote(i)\">Edita</button>\n      <button className=\"m5\" @click=\"removeVote(i)\">Remove</button>\n      <br />\n      <b>R: </b>\n      <span v-for=\"(o, i) in vote.options\" :key=\"i\">\n        {{ o.text }}\n        <span v-if=\"i < vote.options.length - 1\">/ </span>\n      </span>\n    </p>\n  </div>\n  <div v-else-if=\"mode === voteCard\">\n    <Card\n      :title=\"votes[current].title\"\n      :state=\"open\"\n      :votes=\"votes[current].options\"\n    />\n  </div>  \n  <div v-else>\n    <VoteForm\n      :vote=\"votes[current]\"\n      @update=\"updateChanges\"\n      @cancel=\"cancelChanges\"\n    />\n  </div>\n</template>\n\n<script>\nimport VoteForm from './voting-form.vue'\nimport Card from './voting-card.vue'\nimport { ref } from 'vue'\n\nimport {\n  votes,\n  size,\n  createVote,\n  updateVote,\n  deleteVote\n} from './votes'\n\nexport default {\n  components: { VoteForm, Card },\n  setup() {\n    const mode = ref('view')\n    const current = ref(0)\n\n    const openVote = (index) => {\n      mode.value = 'voteCard'\n      current.value = index\n    }\n\n    const addVote = () => {\n      createVote()\n      mode.value = 'add'\n      current.value = size.value - 1\n    }\n\n    const updateChanges = (vote) => {\n      updateVote(vote, current.value)\n      mode.value = 'view'\n    }\n\n    const editVote = (index) => {\n      current.value = index\n      mode.value = 'edit'\n    }\n\n    const removeVote = (index) => {\n      deleteVote(index)\n    }\n\n    const cancelChanges = () => {\n      if (mode.value === 'add') {\n        deleteVote(size.value - 1)\n      }\n      mode.value = 'view'\n    }\n\n    return {\n      mode,\n      votes,\n      current,\n      addVote,\n      openVote,\n      updateChanges,\n      editVote,\n      removeVote,\n      cancelChanges\n    }\n  }\n}\n</script>\n"],"sourceRoot":""}]}