{"remainingRequest":"/home/thiago/Documentos/voting-card-2/node_modules/babel-loader/lib/index.js!/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/thiago/Documentos/voting-card-2/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/thiago/Documentos/voting-card-2/src/components/voting-form.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/thiago/Documentos/voting-card-2/src/components/voting-form.vue","mtime":1629137181856},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/thiago/Documentos/voting-card-2/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3RoaWFnby9Eb2N1bWVudG9zL3ZvdGluZy1jYXJkLTIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dC52dWUnOwppbXBvcnQgeyBtaW5MZW5ndGhWYWxpZGF0aW9uLCByZXF1aXJlZElzQU51bWJlciwgcmVxdWlyZWRWYWxpZGF0aW9uIH0gZnJvbSAnLi92YWxpZGF0aW9ucyc7CnZhciB2YWxpZGF0ZSA9IHsKICB0aXRsZTogZnVuY3Rpb24gdGl0bGUodmFsdWUpIHsKICAgIHJldHVybiBtaW5MZW5ndGhWYWxpZGF0aW9uKDMsIHZhbHVlKTsKICB9LAogIG9wdGlvbjE6IHJlcXVpcmVkVmFsaWRhdGlvbiwKICBvcHRpb24yOiByZXF1aXJlZFZhbGlkYXRpb24sCiAgdm90ZXMxOiByZXF1aXJlZElzQU51bWJlciwKICB2b3RlczI6IHJlcXVpcmVkSXNBTnVtYmVyCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dDogSW5wdXQKICB9LAogIHByb3BzOiBbJ3ZvdGUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF9yZWYgPSB0aGlzLnZvdGUgfHwge30sCiAgICAgICAgdGl0bGUgPSBfcmVmLnRpdGxlLAogICAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7CgogICAgY29uc29sZS5sb2cob3B0aW9ucyk7CgogICAgdmFyIF9yZWYyID0gb3B0aW9ucyB8fCBbewogICAgICB0ZXh0OiAnJywKICAgICAgY291bnQ6IDAKICAgIH0sIHsKICAgICAgdGV4dDogJycsCiAgICAgIGNvdW50OiAwCiAgICB9XSwKICAgICAgICBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAyKSwKICAgICAgICBfcmVmMyQgPSBfcmVmM1swXSwKICAgICAgICBvcHRpb24xID0gX3JlZjMkLnRleHQsCiAgICAgICAgdm90ZXMxID0gX3JlZjMkLmNvdW50LAogICAgICAgIF9yZWYzJDIgPSBfcmVmM1sxXSwKICAgICAgICBvcHRpb24yID0gX3JlZjMkMi50ZXh0LAogICAgICAgIHZvdGVzMiA9IF9yZWYzJDIuY291bnQ7CgogICAgcmV0dXJuIHsKICAgICAgdnQ6IHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgb3B0aW9uMTogb3B0aW9uMSwKICAgICAgICBvcHRpb24yOiBvcHRpb24yLAogICAgICAgIHZvdGVzMTogdm90ZXMxLAogICAgICAgIHZvdGVzMjogdm90ZXMyCiAgICAgIH0sCiAgICAgIGVycm9yczoge30sCiAgICAgIHRvdWNoZWQ6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tGaWVsZDogZnVuY3Rpb24gY2hlY2tGaWVsZChuYW1lKSB7CiAgICAgIGlmICh0aGlzLnZ0W25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLnZ0W25hbWVdID0gJyc7CiAgICAgIH0KCiAgICAgIHZhciB2YWx1ZSA9IHRoaXMudnRbbmFtZV07CiAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRlW25hbWVdID8gdmFsaWRhdGVbbmFtZV0odmFsdWUpIDogbnVsbDsKICAgICAgdmFyIG5hbWVFcnJvciA9IHRoaXMudG91Y2hlZFtuYW1lXSA/IGVycm9yIDogbnVsbDsKICAgICAgdGhpcy5lcnJvcnNbbmFtZV0gPSBuYW1lRXJyb3I7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgT2JqZWN0LmtleXModGhpcy52dCkuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICBfdGhpcy50b3VjaGVkW2ZpZWxkXSA9IHRydWU7CgogICAgICAgIF90aGlzLmNoZWNrRmllbGQoZmllbGQpOwogICAgICB9KTsKICAgICAgdmFyIGVycm9yc0lzRW1wdHkgPSAhT2JqZWN0LnZhbHVlcyh0aGlzLmVycm9ycykuc29tZShmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2OwogICAgICB9KTsKCiAgICAgIGlmIChlcnJvcnNJc0VtcHR5KSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSBbewogICAgICAgICAgdGV4dDogdGhpcy52dC5vcHRpb24xLAogICAgICAgICAgY291bnQ6IHRoaXMudnQudm90ZXMxCiAgICAgICAgfSwgewogICAgICAgICAgdGV4dDogdGhpcy52dC5vcHRpb24yLAogICAgICAgICAgY291bnQ6IHRoaXMudnQudm90ZXMyCiAgICAgICAgfV0uZmlsdGVyKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICByZXR1cm4gbyAmJiBvLnRleHQudHJpbSgpICE9PSAnJzsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUnLCB7CiAgICAgICAgICB0aXRsZTogdGhpcy52dC50aXRsZSwKICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKHRoaXMudm90ZSk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/thiago/Documentos/voting-card-2/src/components/voting-form.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <h2>Edita votação</h2>\n    <Input\n      type=\"textarea\"\n      label=\"Título\"\n      v-model=\"vt.title\"\n      placeholder=\"Digite o título da votação\"\n      isRequired=\"true\"\n      :error=\"errors['title']\"\n      @input=\"touched['title'] = true\"\n      @blur=\"checkField('title')\"\n    />\n    <Input\n      label=\"Opção 1\"\n      v-model=\"vt.option1\"\n      placeholder=\"Digite a 1ª opção\"\n      isRequired=\"true\"\n      :error=\"errors['option1']\"\n      @input=\"touched['option1'] = true\"\n      @blur=\"checkField('option1')\"\n    />\n    <Input\n      label=\"Votes 1\"\n      v-model=\"vt.votes1\"\n      placeholder=\"Digite a quantidade de votos da 1ª opção\"\n      isRequired=\"true\"\n      :error=\"errors['votes1']\"\n      @input=\"touched['votes1'] = true\"\n      @blur=\"checkField('votes1')\"\n    />    \n    <Input\n      label=\"Opção 2\"\n      v-model=\"vt.option2\"\n      placeholder=\"Digite a 2ª opção\"\n      isRequired=\"true\"\n      :error=\"errors['option2']\"\n      @input=\"touched['option2'] = true\"\n      @blur=\"checkField('option2')\"\n    />\n    <Input\n      label=\"Votes 2\"\n      v-model=\"vt.votes2\"\n      placeholder=\"Digite a quantidade de votos da 2ª opção\"\n      isRequired=\"true\"\n      :error=\"errors['votes2']\"\n      @input=\"touched['votes2'] = true\"\n      @blur=\"checkField('votes2')\"\n    />      \n    <input type=\"submit\" value=\"Atualizar\" />\n    <button @click=\"$emit('cancel')\" type=\"button\">Cancelar</button>\n  </form>\n</template>\n\n<script>\nimport Input from './Input.vue'\nimport { minLengthValidation, requiredIsANumber, requiredValidation } from './validations'\n\nconst validate = {\n  title: (value) => minLengthValidation(3, value),\n  option1: requiredValidation,\n  option2: requiredValidation,\n  votes1: requiredIsANumber,\n  votes2: requiredIsANumber\n}\n\nexport default {\n  components: { Input },\n  props: ['vote'],\n  data() {\n    const { title, options } = this.vote || {}\n    console.log(options);\n    const [{\n      text: option1,\n      count: votes1\n    }, {\n      text: option2,\n      count: votes2\n      }\n    ] = options || [{text: '', count: 0}, {text: '', count: 0}]\n\n    return {\n      vt: { title, option1, option2, votes1, votes2 },\n      errors: {},\n      touched: {}\n    }\n  },\n  methods: {\n    checkField(name) {\n      if(this.vt[name] === undefined){\n        this.vt[name] = ''\n      }\n      const value = this.vt[name]\n      const error = validate[name] ? validate[name](value) : null\n      const nameError = this.touched[name] ? error : null\n      this.errors[name] = nameError\n    },\n    onSubmit() {\n      Object.keys(this.vt).forEach((field) => {\n        this.touched[field] = true\n        this.checkField(field)\n      })\n      const errorsIsEmpty = !Object.values(this.errors).some((v) => v)\n      if (errorsIsEmpty) {\n        const options = [\n          {\n            text: this.vt.option1,\n            count: this.vt.votes1\n          },\n          {\n            text: this.vt.option2,\n            count: this.vt.votes2\n          }          \n        ].filter((o) => o && o.text.trim() !== '')\n        this.$emit('update', {\n          title: this.vt.title,\n          options\n        })\n      }\n    }\n  },\n  created: function (){\n    console.log(this.vote);\n  }\n}\n</script>\n\n<style scoped>\n.form-item {\n  display: flex;\n  margin-bottom: 1.7rem;\n}\n</style>"],"sourceRoot":""}]}